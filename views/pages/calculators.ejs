<%
const layoutData = {
  title: 'Free Budget & Savings Calculators — Budget Buckets',  
  description: 'Free Budget Calculator and Savings Rate & Time-to-Goal Calculator with compounding. Weekly, fortnightly & monthly pay cycles. Multi-currency support.',
  active: 'calculators',
  pageCss: 'calculators.css',
  body: `
    <div class="container">
      <section class="card section" style="margin-top:16px">
        <span class="pill">Free financial tools</span>
        <h1>Budget & Savings Calculators</h1>
        <p class="muted">Fast, no-fuss calculators that speak weekly & fortnightly. Multi-currency support. Your inputs stay in your browser (no signup).</p>
        <div class="tabs" role="tablist" aria-label="Calculator selector">
          <button id="tab-budget" class="tab" role="tab" aria-selected="true" aria-controls="panel-budget">Budget Calculator</button>
          <button id="tab-savings" class="tab" role="tab" aria-selected="false" aria-controls="panel-savings">Savings Calculator</button>
        </div>
      </section>

      <!-- Fortnightly Budget Calculator -->
      <section id="panel-budget" class="card section" role="tabpanel" aria-labelledby="tab-budget">
        <a id="budget-calculator"></a>
        <h2>Budget Calculator</h2>
        <p class="muted">Enter your income and expenses using your preferred frequency. All values automatically convert across weekly, fortnightly, monthly, and yearly.</p>

        <div class="grid-2" style="margin-top:8px">
          <div>
            <div class="row" style="gap:14px;flex-wrap:wrap">
              <label for="bc-income">Income</label>
              <input id="bc-income" type="number" min="0" step="0.01" placeholder="0.00" />
              <label for="bc-freq" class="sr-only">Frequency</label>
              <select id="bc-freq" aria-label="Income frequency">
                <option value="weekly">Weekly</option>
                <option value="fortnightly" selected>Fortnightly</option>
                <option value="monthly">Monthly</option>
                <option value="yearly">Yearly</option>
              </select>
              <label for="bc-curr">Currency</label>
              <select id="bc-curr">
                <option value="AUD" selected>AUD</option>
                <option value="NZD">NZD</option>
                <option value="USD">USD</option>
                <option value="GBP">GBP</option>
              </select>
              <button id="bc-clear" title="Clear all">Clear All</button>
            </div>

            <h3 style="margin:16px 0 8px">Expenses</h3>
            <div class="help">Enter amounts in <strong id="bc-freq-label">fortnightly</strong> values</div>
            <table id="bc-table" aria-label="Expense items">
              <thead>
                <tr><th>Item</th><th class="right">Amount (<span id="bc-freq-label-2">Fortnightly</span>)</th><th class="right"> </th></tr>
              </thead>
              <tbody>
                <!-- rows injected here -->
              </tbody>
            </table>
            <div class="row" style="margin-top:10px;gap:8px">
              <button id="bc-add" class="primary">+ Add Expense</button>
              <button id="bc-preset" title="Load preset expenses">Load Preset</button>
            </div>
          </div>

          <div>
            <div class="grid-2">
              <div class="kpi"><div class="muted">Income / Weekly</div><div id="bc-inc-w" class="big">—</div></div>
              <div class="kpi"><div class="muted">Expenses / Weekly</div><div id="bc-exp-w" class="big">—</div></div>
              <div class="kpi"><div class="muted">Income / Fortnightly</div><div id="bc-inc-f" class="big">—</div></div>
              <div class="kpi"><div class="muted">Expenses / Fortnightly</div><div id="bc-exp-f" class="big">—</div></div>
              <div class="kpi"><div class="muted">Income / Monthly</div><div id="bc-inc-m" class="big">—</div></div>
              <div class="kpi"><div class="muted">Expenses / Monthly</div><div id="bc-exp-m" class="big">—</div></div>
              <div class="kpi"><div class="muted">Income / Yearly</div><div id="bc-inc-y" class="big">—</div></div>
              <div class="kpi"><div class="muted">Expenses / Yearly</div><div id="bc-exp-y" class="big">—</div></div>
            </div>
            <div class="kpi" style="margin-top:12px">
              <div class="muted">Leftover / Deficit (<span id="bc-leftover-freq">Monthly</span>)</div>
              <div id="bc-leftover" class="big">—</div>
              <div id="bc-leftover-note" class="help"></div>
              <div id="bc-leftover-pct" class="help" style="margin-top:4px"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Savings Rate & Time-to-Goal -->
      <section id="panel-savings" class="card section" role="tabpanel" aria-labelledby="tab-savings" hidden>
        <a id="savings-calculator"></a>
        <h2>Savings Rate & Time‑to‑Goal</h2>
        <p class="muted">Calculate how long it takes to reach your savings target with compounding returns. Enter your income to see your savings rate percentage.</p>

        <div class="grid-2" style="margin-top:8px">
          <div>
            <h3 style="margin:0 0 12px;font-size:18px">Income & Settings</h3>
            <div class="row" style="gap:14px;flex-wrap:wrap;margin-bottom:16px">
              <label for="sc-income">Income</label>
              <input id="sc-income" type="number" min="0" step="0.01" placeholder="0.00" />
              <select id="sc-incfreq">
                <option value="weekly">Weekly</option>
                <option value="fortnightly" selected>Fortnightly</option>
                <option value="monthly">Monthly</option>
                <option value="yearly">Yearly</option>
              </select>
              <label for="sc-curr">Currency</label>
              <select id="sc-curr">
                <option value="AUD" selected>AUD</option>
                <option value="NZD">NZD</option>
                <option value="USD">USD</option>
                <option value="GBP">GBP</option>
              </select>
            </div>

            <h3 style="margin:16px 0 12px;font-size:18px">Savings Plan</h3>
            <div class="row" style="gap:14px;flex-wrap:wrap;margin-bottom:8px">
              <label for="sc-balance">Current Balance</label>
              <input id="sc-balance" type="number" min="0" step="0.01" placeholder="0.00" />
              <label for="sc-target">Target Amount</label>
              <input id="sc-target" type="number" min="0" step="0.01" placeholder="10000.00" />
            </div>
            <div class="row" style="gap:14px;flex-wrap:wrap;margin-bottom:8px">
              <label for="sc-contrib">Contribution</label>
              <input id="sc-contrib" type="number" min="0" step="0.01" placeholder="200.00" />
              <select id="sc-freq">
                <option value="weekly">Weekly</option>
                <option value="fortnightly" selected>Fortnightly</option>
                <option value="monthly">Monthly</option>
                <option value="yearly">Yearly</option>
              </select>
            </div>
            <div class="row" style="gap:14px;flex-wrap:wrap">
              <label for="sc-rate">Annual Return (%)</label>
              <input id="sc-rate" type="number" min="0" step="0.01" placeholder="5.0" value="0" />
            </div>
            <div class="row" style="margin-top:10px;gap:8px">
              <button id="sc-calc" class="primary">Calculate</button>
              <button id="sc-clear" title="Clear all">Clear</button>
            </div>
          </div>

          <div>
            <div class="kpi"><div class="muted">Monthly Contribution</div><div id="sc-cm" class="big">—</div></div>
            <div class="kpi" style="margin-top:12px"><div class="muted">Time to Target</div><div id="sc-months" class="big">—</div><div class="help">months</div></div>
            <div class="kpi" style="margin-top:12px"><div class="muted">Target Date</div><div id="sc-date" class="help">—</div></div>
            <div class="kpi" style="margin-top:12px"><div class="muted">Savings Rate</div><div id="sc-ratepct" class="big">—</div></div>
            <div id="sc-note" class="help" style="margin-top:8px"></div>
          </div>
        </div>
      </section>
    </div>

  `
};
%>

<%- include('../layout', layoutData) %>