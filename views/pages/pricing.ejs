<%
const layoutData = {
  title: 'Pricing — Budget Buckets (AUD)',
  description: 'Free plan with up to 5 buckets. Plus for $3.99/month with unlimited buckets.',
  active: 'pricing',
  pageCss: 'pricing.css',
  body: `
    <div class="container">
      <section class="hero">
        <h1>Simple pricing</h1>
        <p>Start free. Upgrade when you're ready.</p>
      </section>

      <section class="pricing-grid">
        <div class="pricing-card">
          <h3 class="plan-name">Free</h3>
          <div class="plan-price">$0</div>
          <ul class="plan-features">
            <li>Up to <strong>5</strong> buckets</li>
            <li>Cloud sync across devices (web)</li>
            <li>Notes & allocation ring</li>
            <li>Basic overspend alerts</li>
          </ul>
          <a href="/auth/login" class="btn btn-secondary">Start free</a>
        </div>

        <div class="pricing-card">
          <div class="plan-badge">Best value</div>
          <h3 class="plan-name">Plus</h3>
          <div class="plan-price">$3.99<span class="period"> / month</span></div>
          <ul class="plan-features">
            <li><strong>Unlimited</strong> buckets</li>
            <li>Everything in Free</li>
            <li>Priority support (email)</li>
          </ul>
          <a href="/auth/login" class="btn">Upgrade (log in first)</a>
        </div>
      </section>

      <section class="feature-comparison">
        <h2>Feature Comparison</h2>
        <div class="comparison-table">
          <table>
            <thead>
              <tr>
                <th>Feature</th>
                <th>Free</th>
                <th>Plus</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Buckets</td>
                <td>Up to 5</td>
                <td>Unlimited</td>
              </tr>
              <tr>
                <td>Cloud sync (Web)</td>
                <td class="check">✓</td>
                <td class="check">✓</td>
              </tr>
              <tr>
                <td>Notes & allocation ring</td>
                <td class="check">✓</td>
                <td class="check">✓</td>
              </tr>
              <tr>
                <td>Basic overspend alerts</td>
                <td class="check">✓</td>
                <td class="check">✓</td>
              </tr>
              <tr>
                <td>Priority support (email)</td>
                <td class="dash">—</td>
                <td class="check">✓</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <section class="faq">
        <h2>Frequently Asked Questions</h2>
        
        <details class="faq-item">
          <summary>What's included in Free?</summary>
          <p>Up to 5 buckets, sync on the web app, notes, allocation ring, basic overspend alerts.</p>
        </details>

        <details class="faq-item">
          <summary>What do I get with Plus?</summary>
          <p>Unlimited buckets and priority email support. Collaboration and themes will arrive later (no extra charge while in beta).</p>
        </details>

        <details class="faq-item">
          <summary>Is there a mobile app?</summary>
          <p>Not yet. The web app works great on phones; native apps are planned.</p>
        </details>

        <details class="faq-item">
          <summary>Can I cancel anytime?</summary>
          <p>Yes. You keep access until the end of your current month.</p>
        </details>

        <details class="faq-item">
          <summary>Will you add more features?</summary>
          <p>Yes. Collaboration, more themes, and deeper reports are on the roadmap.</p>
        </details>
      </section>
    </div>

    <script>
      // Smooth scroll for internal anchors
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });

      // Handle upgrade button clicks
      document.querySelectorAll('a[href="/auth/login"]').forEach(link => {
        link.addEventListener('click', function(e) {
          // Just follow the link - no special behavior needed
          // Could add analytics tracking here if needed
        });
      });
    </script>
  `
};
%>

<%- include('../layout', layoutData) %>