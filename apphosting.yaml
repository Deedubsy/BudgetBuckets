# Firebase App Hosting configuration for Budget Buckets
# Updated with STRIPE_PUBLISH_KEY secret access

# Build settings
env:
  - variable: NODE_ENV
    value: production

    # Public-ish value you're happy to keep server-side only
  - variable: PRICE_ID_MONTHLY
    value: price_1RztbqHu7eVcaw0vqdjoEls0
    availability:
      - RUNTIME

  # Stripe secrets (configure these in Firebase Secret Manager)
  - variable: STRIPE_SECRET_KEY
    secret: stripe-secret-key
    availability:
      - RUNTIME

  - variable: STRIPE_PUBLISH_KEY
    secret: stripe-publish-key
    availability:
      - RUNTIME

  - variable: STRIPE_WEBHOOK_SECRET
    secret: stripe-webhook-secret
    availability:
      - RUNTIME

# Runtime settings
runConfig:
  runtime: nodejs20
  minInstances: 0
  maxInstances: 10
  concurrency: 100
  cpu: 1
  memoryMiB: 512

# Environment variables for the app
secrets: []